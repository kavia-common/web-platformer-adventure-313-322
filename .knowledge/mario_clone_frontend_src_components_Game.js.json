{"is_source_file": true, "format": "JavaScript", "description": "This file defines the main Game component for a Mario clone web game, handling game logic, rendering, and user interactions.", "external_files": ["../hooks/useGameLoop", "../game/engine"], "external_methods": ["useGameLoop", "useKeyboard", "useResize", "findSpawns", "findCoins", "rectsCollide", "clamp", "isSolid", "isPlatform", "isGround", "isCoin", "isEnemy", "isFlag"], "published": [], "classes": [], "methods": [{"name": "Game()", "description": "The main game component that handles the game state, rendering, and user interactions.", "scope": "", "scopeKind": ""}, {"name": "mkInitialGameState()", "description": "Initializes the game state with player, enemies, coins, and score.", "scope": "", "scopeKind": ""}, {"name": "stepGame(prev, keys, dt)", "description": "Handles the main game advancement logic based on player input and physics.", "scope": "", "scopeKind": ""}, {"name": "getTile(level, px, py)", "description": "Retrieves a tile from the level based on pixel coordinates.", "scope": "", "scopeKind": ""}, {"name": "tryPlayerMoveX(level, p, dt)", "description": "Calculates and resolves player's horizontal movement within the game world.", "scope": "", "scopeKind": ""}, {"name": "tryPlayerMoveY(level, p, dt)", "description": "Calculates and resolves player's vertical movement within the game world.", "scope": "", "scopeKind": ""}, {"name": "circleBoxCollide(cx, cy, cr, rect)", "description": "Checks for collision between a circle (coin) and a rectangular area.", "scope": "", "scopeKind": ""}, {"name": "drawGame(ctx, st, scale)", "description": "Renders the current game state onto the canvas.", "scope": "", "scopeKind": ""}, {"name": "HUD({ hud, paused, onPause, onRestart, levelName })", "description": "Renders the heads-up display showing the score, lives, and controls.", "scope": "", "scopeKind": ""}, {"name": "OverlayScreen({ win, onRestart, score })", "description": "Displays the game over or win overlay on the screen.", "scope": "", "scopeKind": ""}, {"name": "buttonStyle(color)", "description": "Defines the style for buttons based on the provided color.", "scope": "", "scopeKind": ""}, {"name": "handlePause()", "scope": "Game", "scopeKind": "function", "description": "unavailable"}, {"name": "handleRestart()", "scope": "Game", "scopeKind": "function", "description": "unavailable"}, {"name": "onKey(e)", "scope": "Game", "scopeKind": "function", "description": "unavailable"}], "calls": ["setPaused", "setHud", "setState", "setShowWin", "setShowGameOver", "useResize", "drawGame"], "search-terms": ["Game", "Mario", "clone", "platformer"], "state": 2, "file_id": 15, "knowledge_revision": 31, "git_revision": "", "ctags": [{"_type": "tag", "name": "0", "path": "/tmp/kavia/workspace/code-generation/web-platformer-adventure-313-322/mario_clone_frontend/src/components/Game.js", "pattern": "/^          tabIndex={0}$/", "language": "JavaScript", "kind": "field", "scope": "tabIndex", "scopeKind": "class"}, {"_type": "tag", "name": "0", "path": "/tmp/kavia/workspace/code-generation/web-platformer-adventure-313-322/mario_clone_frontend/src/components/Game.js", "pattern": "/^      tabIndex={0}$/", "language": "JavaScript", "kind": "field", "scope": "tabIndex", "scopeKind": "class"}, {"_type": "tag", "name": "GAME_HEIGHT", "path": "/tmp/kavia/workspace/code-generation/web-platformer-adventure-313-322/mario_clone_frontend/src/components/Game.js", "pattern": "/^        height={GAME_HEIGHT}$/", "language": "JavaScript", "kind": "field", "scope": "height", "scopeKind": "class"}, {"_type": "tag", "name": "GAME_WIDTH", "path": "/tmp/kavia/workspace/code-generation/web-platformer-adventure-313-322/mario_clone_frontend/src/components/Game.js", "pattern": "/^        width={GAME_WIDTH}$/", "language": "JavaScript", "kind": "field", "scope": "width", "scopeKind": "class"}, {"_type": "tag", "name": "Game", "path": "/tmp/kavia/workspace/code-generation/web-platformer-adventure-313-322/mario_clone_frontend/src/components/Game.js", "pattern": "/^export default function Game() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "HUD", "path": "/tmp/kavia/workspace/code-generation/web-platformer-adventure-313-322/mario_clone_frontend/src/components/Game.js", "pattern": "/^function HUD({ hud, paused, onPause, onRestart, levelName }) {$/", "language": "JavaScript", "kind": "function", "signature": "({ hud, paused, onPause, onRestart, levelName })"}, {"_type": "tag", "name": "OverlayScreen", "path": "/tmp/kavia/workspace/code-generation/web-platformer-adventure-313-322/mario_clone_frontend/src/components/Game.js", "pattern": "/^function OverlayScreen({ win, onRestart, score }) {$/", "language": "JavaScript", "kind": "function", "signature": "({ win, onRestart, score })"}, {"_type": "tag", "name": "buttonStyle", "path": "/tmp/kavia/workspace/code-generation/web-platformer-adventure-313-322/mario_clone_frontend/src/components/Game.js", "pattern": "/^function buttonStyle(color) {$/", "language": "JavaScript", "kind": "function", "signature": "(color)"}, {"_type": "tag", "name": "camera", "path": "/tmp/kavia/workspace/code-generation/web-platformer-adventure-313-322/mario_clone_frontend/src/components/Game.js", "pattern": "/^  let camera = { x: cx, y: 0 };$/", "language": "JavaScript", "kind": "class", "scope": "stepGame", "scopeKind": "class"}, {"_type": "tag", "name": "canvasRef", "path": "/tmp/kavia/workspace/code-generation/web-platformer-adventure-313-322/mario_clone_frontend/src/components/Game.js", "pattern": "/^        ref={canvasRef}$/", "language": "JavaScript", "kind": "field", "scope": "ref", "scopeKind": "class"}, {"_type": "tag", "name": "circleBoxCollide", "path": "/tmp/kavia/workspace/code-generation/web-platformer-adventure-313-322/mario_clone_frontend/src/components/Game.js", "pattern": "/^function circleBoxCollide(cx, cy, cr, rect) {$/", "language": "JavaScript", "kind": "function", "signature": "(cx, cy, cr, rect)"}, {"_type": "tag", "name": "drawGame", "path": "/tmp/kavia/workspace/code-generation/web-platformer-adventure-313-322/mario_clone_frontend/src/components/Game.js", "pattern": "/^function drawGame(ctx, st, scale) {$/", "language": "JavaScript", "kind": "function", "signature": "(ctx, st, scale)"}, {"_type": "tag", "name": "getEntityRect", "path": "/tmp/kavia/workspace/code-generation/web-platformer-adventure-313-322/mario_clone_frontend/src/components/Game.js", "pattern": "/^const getEntityRect = (e) => ({$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "getPlayerRect", "path": "/tmp/kavia/workspace/code-generation/web-platformer-adventure-313-322/mario_clone_frontend/src/components/Game.js", "pattern": "/^const getPlayerRect = (p) => ({$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "getTile", "path": "/tmp/kavia/workspace/code-generation/web-platformer-adventure-313-322/mario_clone_frontend/src/components/Game.js", "pattern": "/^function getTile(level, px, py) {$/", "language": "JavaScript", "kind": "function", "signature": "(level, px, py)"}, {"_type": "tag", "name": "handlePause", "path": "/tmp/kavia/workspace/code-generation/web-platformer-adventure-313-322/mario_clone_frontend/src/components/Game.js", "pattern": "/^        onPause={handlePause}$/", "language": "JavaScript", "kind": "field", "scope": "onPause", "scopeKind": "class"}, {"_type": "tag", "name": "handlePause", "path": "/tmp/kavia/workspace/code-generation/web-platformer-adventure-313-322/mario_clone_frontend/src/components/Game.js", "pattern": "/^  function handlePause() {$/", "language": "JavaScript", "kind": "function", "signature": "()", "scope": "Game", "scopeKind": "function"}, {"_type": "tag", "name": "handleRestart", "path": "/tmp/kavia/workspace/code-generation/web-platformer-adventure-313-322/mario_clone_frontend/src/components/Game.js", "pattern": "/^        onRestart={handleRestart}$/", "language": "JavaScript", "kind": "field", "scope": "onRestart", "scopeKind": "class"}, {"_type": "tag", "name": "handleRestart", "path": "/tmp/kavia/workspace/code-generation/web-platformer-adventure-313-322/mario_clone_frontend/src/components/Game.js", "pattern": "/^  function handleRestart() {$/", "language": "JavaScript", "kind": "function", "signature": "()", "scope": "Game", "scopeKind": "function"}, {"_type": "tag", "name": "hud", "path": "/tmp/kavia/workspace/code-generation/web-platformer-adventure-313-322/mario_clone_frontend/src/components/Game.js", "pattern": "/^        hud={hud}$/", "language": "JavaScript", "kind": "field", "scope": "hud", "scopeKind": "class"}, {"_type": "tag", "name": "initialLives", "path": "/tmp/kavia/workspace/code-generation/web-platformer-adventure-313-322/mario_clone_frontend/src/components/Game.js", "pattern": "/^const initialLives = 3;$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "level1", "path": "/tmp/kavia/workspace/code-generation/web-platformer-adventure-313-322/mario_clone_frontend/src/components/Game.js", "pattern": "/^        levelName={level1.name}$/", "language": "JavaScript", "kind": "field", "scope": "levelName", "scopeKind": "class"}, {"_type": "tag", "name": "mkInitialGameState", "path": "/tmp/kavia/workspace/code-generation/web-platformer-adventure-313-322/mario_clone_frontend/src/components/Game.js", "pattern": "/^function mkInitialGameState() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "onKey", "path": "/tmp/kavia/workspace/code-generation/web-platformer-adventure-313-322/mario_clone_frontend/src/components/Game.js", "pattern": "/^    function onKey(e) {$/", "language": "JavaScript", "kind": "function", "signature": "(e)", "scope": "Game", "scopeKind": "function"}, {"_type": "tag", "name": "onRestart", "path": "/tmp/kavia/workspace/code-generation/web-platformer-adventure-313-322/mario_clone_frontend/src/components/Game.js", "pattern": "/^          onClick={onRestart}$/", "language": "JavaScript", "kind": "field", "scope": "onClick", "scopeKind": "class"}, {"_type": "tag", "name": "paused", "path": "/tmp/kavia/workspace/code-generation/web-platformer-adventure-313-322/mario_clone_frontend/src/components/Game.js", "pattern": "/^        paused={paused}$/", "language": "JavaScript", "kind": "field", "scope": "paused", "scopeKind": "class"}, {"_type": "tag", "name": "stepGame", "path": "/tmp/kavia/workspace/code-generation/web-platformer-adventure-313-322/mario_clone_frontend/src/components/Game.js", "pattern": "/^function stepGame(prev, keys, dt) {$/", "language": "JavaScript", "kind": "function", "signature": "(prev, keys, dt)"}, {"_type": "tag", "name": "tryPlayerMoveX", "path": "/tmp/kavia/workspace/code-generation/web-platformer-adventure-313-322/mario_clone_frontend/src/components/Game.js", "pattern": "/^function tryPlayerMoveX(level, p, dt) {$/", "language": "JavaScript", "kind": "function", "signature": "(level, p, dt)"}, {"_type": "tag", "name": "tryPlayerMoveY", "path": "/tmp/kavia/workspace/code-generation/web-platformer-adventure-313-322/mario_clone_frontend/src/components/Game.js", "pattern": "/^function tryPlayerMoveY(level, p, dt) {$/", "language": "JavaScript", "kind": "function", "signature": "(level, p, dt)"}, {"_type": "tag", "name": "win", "path": "/tmp/kavia/workspace/code-generation/web-platformer-adventure-313-322/mario_clone_frontend/src/components/Game.js", "pattern": "/^      aria-label={win ? \"You win!\" : \"Game Over\"}$/", "language": "JavaScript", "kind": "field", "scope": "aria", "scopeKind": "class"}, {"_type": "tag", "name": "x", "path": "/tmp/kavia/workspace/code-generation/web-platformer-adventure-313-322/mario_clone_frontend/src/components/Game.js", "pattern": "/^  let camera = { x: cx, y: 0 };$/", "language": "JavaScript", "kind": "property", "scope": "stepGame.camera", "scopeKind": "class"}, {"_type": "tag", "name": "y", "path": "/tmp/kavia/workspace/code-generation/web-platformer-adventure-313-322/mario_clone_frontend/src/components/Game.js", "pattern": "/^  let camera = { x: cx, y: 0 };$/", "language": "JavaScript", "kind": "property", "scope": "stepGame.camera", "scopeKind": "class"}], "hash": "8b2fa578fb9cd6a52b9b4d93685a9406", "format-version": 4, "code-base-name": "mario_clone_frontend", "filename": "mario_clone_frontend/src/components/Game.js", "fields": [{"name": "tabIndex={0}", "scope": "tabIndex", "scopeKind": "class", "description": "unavailable"}, {"name": "height={GAME_HEIGHT}", "scope": "height", "scopeKind": "class", "description": "unavailable"}, {"name": "width={GAME_WIDTH}", "scope": "width", "scopeKind": "class", "description": "unavailable"}, {"name": "ref={canvasRef}", "scope": "ref", "scopeKind": "class", "description": "unavailable"}, {"name": "onPause={handlePause}", "scope": "onPause", "scopeKind": "class", "description": "unavailable"}, {"name": "onRestart={handleRestart}", "scope": "onRestart", "scopeKind": "class", "description": "unavailable"}, {"name": "hud={hud}", "scope": "hud", "scopeKind": "class", "description": "unavailable"}, {"name": "levelName={level1.name}", "scope": "levelName", "scopeKind": "class", "description": "unavailable"}, {"name": "onClick={onRestart}", "scope": "onClick", "scopeKind": "class", "description": "unavailable"}, {"name": "paused={paused}", "scope": "paused", "scopeKind": "class", "description": "unavailable"}, {"name": "aria-label={win ? \"You win!\" : \"Game Over\"}", "scope": "aria", "scopeKind": "class", "description": "unavailable"}, {"name": "let camera = { x: cx, y: 0 };", "scope": "stepGame.camera", "scopeKind": "class", "description": "unavailable"}], "revision_history": [{"31": ""}]}